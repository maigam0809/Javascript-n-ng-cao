<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bài tập thêm</title>
</head>
<body>

    <div>
        <div id="detail">
            
        </div>

        <table border="1">
            <thead>
                <tr>
                  <th>ID</th>
                  <th>Name</th>
                  <th>Image</th>
                  <th>Price</th>
                  <th>Status</th>
                  <th>Quantity</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody  id="products">
                  
              </tbody>

              

        </table>

        

    </div>

    <script>
        var products =[
        {
            "id": "1",
            "name": "Refined Steel Shoes",
            "image": "http://lorempixel.com/640/480/abstract",
            "price": "849.00",
            "status": false,
            "quantity": 82644
        },
        {
            "id": "2",
            "name": "Tasty Concrete Chips",
            "image": "http://lorempixel.com/640/480/fashion",
            "price": "762.00",
            "status": true,
            "quantity": 57587
        },
        {
            "id": "3",
            "name": "Awesome Soft Fish",
            "image": "http://lorempixel.com/640/480/fashion",
            "price": "633.00",
            "status": false,
            "quantity": 51117
        },
        {
            "id": "4",
            "name": "Gorgeous Concrete Car",
            "image": "http://lorempixel.com/640/480/technics",
            "price": "728.00",
            "status": false,
            "quantity": 56
        },
        {
            "id": "5",
            "name": "Fantastic Fresh Fish",
            "image": "http://lorempixel.com/640/480/fashion",
            "price": "364.00",
            "status": true,
            "quantity": 7373
        },
        {
            "id": "6",
            "name": "Gorgeous Metal Soap",
            "image": "http://lorempixel.com/640/480/transport",
            "price": "654.00",
            "status": true,
            "quantity": 26
        },
        {
            "id": "7",
            "name": "Tasty Fresh Pizza",
            "image": "http://lorempixel.com/640/480/fashion",
            "price": "795.00",
            "status": true,
            "quantity": 61
        },
        {
            "id": "8",
            "name": "Tasty Concrete Towels",
            "image": "http://lorempixel.com/640/480/food",
            "price": "513.00",
            "status": false,
            "quantity": 36
        },
        {
            "id": "9",
            "name": "Awesome Metal Computer",
            "image": "http://lorempixel.com/640/480/food",
            "price": "741.00",
            "status": false,
            "quantity": 29
        },
        {
            "id": "10",
            "name": "Small Rubber Cheese",
            "image": "http://lorempixel.com/640/480/animals",
            "price": "471.00",
            "status": true,
            "quantity": 42
        },
        {
            "id": "11",
            "name": "Handcrafted Soft Salad",
            "image": "http://lorempixel.com/640/480/people",
            "price": "824.00",
            "status": true,
            "quantity": 86
        },
        {
            "id": "12",
            "name": "Licensed Steel Soap",
            "image": "http://lorempixel.com/640/480/transport",
            "price": "611.00",
            "status": false,
            "quantity": 14
        },
        {
            "id": "13",
            "name": "Handmade Frozen Ball",
            "image": "http://lorempixel.com/640/480/technics",
            "price": "821.00",
            "status": false,
            "quantity": 64
        },
        {
            "id": "14",
            "name": "Handmade Plastic Table",
            "image": "http://lorempixel.com/640/480/food",
            "price": "894.00",
            "status": true,
            "quantity": 94
        },
        {
            "id": "15",
            "name": "Generic Fresh Gloves",
            "image": "http://lorempixel.com/640/480/animals",
            "price": "156.00",
            "status": false,
            "quantity": 13
        },
        {
            "id": "16",
            "name": "Generic Soft Keyboard",
            "image": "http://lorempixel.com/640/480/people",
            "price": "933.00",
            "status": true,
            "quantity": 64
        },
        {
            "id": "17",
            "name": "Intelligent Granite Table",
            "image": "http://lorempixel.com/640/480/fashion",
            "price": "694.00",
            "status": false,
            "quantity": 65
        },
        {
            "id": "18",
            "name": "Small Soft Shirt",
            "image": "http://lorempixel.com/640/480/nightlife",
            "price": "797.00",
            "status": false,
            "quantity": 22
        },
        {
            "id": "19",
            "name": "Rustic Metal Table",
            "image": "http://lorempixel.com/640/480/transport",
            "price": "841.00",
            "status": false,
            "quantity": 98
        },
        {
            "id": "20",
            "name": "Incredible Soft Mouse",
            "image": "http://lorempixel.com/640/480/people",
            "price": "828.00",
            "status": false,
            "quantity": 63
        }
        ];

      
        var $ = document.querySelector.bind(document);
        
        var newArr = products.map(function(item){

            return `<tbody>
                        <tr class="item">
                            <td> ${item.id} </td>
                            <td> ${item.name} </td>
                            <td>
                                ${item.image}
                            </td>
                            <td> ${item.price} </td>
                            <td> ${item.status == false ? "Hết hàng" : "Còn hàng"} </td>
                            <td> ${item.quantity} </td>
                            <td><button onclick="getProduct(${item.id})">Hiện</button></td>
                        </tr>
                    </tbody>`

        }).join("");

        $('#products').innerHTML = newArr;

        // lấy sản phẩm có giá lớn hơn 400
        
        // áp dụng sự kiện onclick sau đó lọc lấy giá trị 

        // viết hàm get lấy id của sản phẩm
        function getProduct(id){
            console.log(id);

            const found = products.find(item => item.id == id);
            console.log(found);
            document.querySelector('#detail').innerHTML =`<h4> ${found.name} </h4>
            <h4> ${found.price} </h4>
            <h4> ${found.quantity} </h4>`;
        }     

    </script>

    
</body>
</html>